# Notes Service

ะะธะฝะธ-ะฟัะธะปะพะถะตะฝะธะต ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะผะตัะบะฐะผะธ ั backend-API, ะฑะฐะทะพะน ะดะฐะฝะฝัั ะธ frontend-ะธะฝัะตััะตะนัะพะผ.

## ๐ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend
- **Node.js** + **TypeScript**
- **Moleculer** - ะผะธะบัะพัะตัะฒะธัะฝะฐั ะฐััะธัะตะบัััะฐ
- **TypeORM** - ORM ะดะปั ัะฐะฑะพัั ั ะฑะฐะทะพะน ะดะฐะฝะฝัั
- **PostgreSQL** - ะพัะฝะพะฒะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **NATS** - message broker ะดะปั ะผะธะบัะพัะตัะฒะธัะพะฒ
- **JWT** - ะฐััะตะฝัะธัะธะบะฐัะธั

### Frontend
- **Vue 3** + **TypeScript**
- **Vite** - ัะฑะพััะธะบ
- **Tailwind CSS** - ััะธะปะธะทะฐัะธั
- **Pinia** - ัะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ
- **Vue Router** - ะผะฐัััััะธะทะฐัะธั

### DevOps
- **Docker** + **Docker Compose**
- **Kubernetes** / **k3s** - ะพัะบะตัััะฐัะธั
- **Nginx** - reverse proxy

## ๐ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

### ะะฑัะทะฐัะตะปัะฝะฐั ัะฐััั โ
- โ REST API ะดะปั CRUD ะพะฟะตัะฐัะธะน ั ะทะฐะผะตัะบะฐะผะธ
- โ Frontend ะธะฝัะตััะตะนั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะผะตัะบะฐะผะธ
- โ ะะฐะทะฐ ะดะฐะฝะฝัั PostgreSQL ั ะฟัะตะดะทะฐะณััะถะตะฝะฝัะผะธ ะดะฐะฝะฝัะผะธ
- โ ะัะพััะพะน ะทะฐะฟััะบ ะฟัะพะตะบัะฐ

### ะะพะฟะพะปะฝะธัะตะปัะฝัะต ััะฝะบัะธะธ โ
- โ **ะััะตะฝัะธัะธะบะฐัะธั** - JWT + ัััั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- โ **ะะฐัะตะณะพัะธะธ ะทะฐะผะตัะพะบ** - ะณััะฟะฟะธัะพะฒะบะฐ ะทะฐะผะตัะพะบ
- โ **ะะพะปะฝะพัะตะบััะพะฒัะน ะฟะพะธัะบ** - ะฟะพะธัะบ ะฟะพ ัะพะดะตัะถะธะผะพะผั
- โ **ะะธะณัะฐัะธะธ** - ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะผะธะณัะฐัะธะน ะฒ ORM
- โ **ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ** - ะฒะฐะปะธะดะฐัะธั ะธ ัะฒะตะดะพะผะปะตะฝะธั
- โ **Moleculer** - ัะฐะทะดะตะปะตะฝะธะต ะฝะฐ ะผะธะบัะพัะตัะฒะธัั
- โ **Docker** - ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั
- โ **docker-compose** - ะพัะบะตัััะฐัะธั ัะตัะฒะธัะพะฒ
- โ **Kubernetes** - ะบะพะฝัะธะณััะฐัะธะธ ะดะปั ะดะตะฟะปะพั

## ๐ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั
- Node.js 18+
- PostgreSQL 15+
- Docker ะธ Docker Compose (ะพะฟัะธะพะฝะฐะปัะฝะพ)

### ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ

1. **ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั**
```bash
git clone <repository-url>
cd notes_service
```

2. **ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน**
```bash
npm install
cd backend && npm install
cd ../frontend && npm install
```

3. **ะะฐัััะพะนะบะฐ ะฑะฐะทั ะดะฐะฝะฝัั**
```bash
# ะกะพะทะดะฐะนัะต ะฑะฐะทั ะดะฐะฝะฝัั PostgreSQL
createdb notes_db

# ะกะบะพะฟะธััะนัะต ัะฐะนะป ะพะบััะถะตะฝะธั
cp backend/env.example backend/.env

# ะััะตะดะฐะบัะธััะนัะต ะฟะตัะตะผะตะฝะฝัะต ะฒ backend/.env
```

4. **ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั**
```bash
# ะะฐะฟััะบ backend ะธ frontend ะพะดะฝะพะฒัะตะผะตะฝะฝะพ
npm run dev

# ะะปะธ ะฟะพ ะพัะดะตะปัะฝะพััะธ:
npm run dev:backend  # ะฟะพัั 3000
npm run dev:frontend # ะฟะพัั 5173
```

### Docker ะทะฐะฟััะบ

1. **ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ**
```bash
docker-compose up -d
```

2. **ะัะพะฒะตัะบะฐ ััะฐัััะฐ**
```bash
docker-compose ps
```

3. **ะััะฐะฝะพะฒะบะฐ**
```bash
docker-compose down
```

### Kubernetes ะทะฐะฟััะบ

1. **ะกะพะทะดะฐะฝะธะต namespace**
```bash
kubectl create namespace notes
```

2. **ะัะธะผะตะฝะตะฝะธะต ะบะพะฝัะธะณััะฐัะธะน**
```bash
kubectl apply -f k8s/configmap-secret.yaml
kubectl apply -f k8s/postgres.yaml
kubectl apply -f k8s/nats.yaml
kubectl apply -f k8s/backend.yaml
kubectl apply -f k8s/frontend.yaml
```

3. **ะัะพะฒะตัะบะฐ ััะฐัััะฐ**
```bash
kubectl get pods -n notes
kubectl get services -n notes
```

## ๐ API ะะพะบัะผะตะฝัะฐัะธั

### ะะฐะผะตัะบะธ

| ะะตัะพะด | ะััั | ะะฟะธัะฐะฝะธะต |
|-------|------|----------|
| GET | `/api/notes` | ะะพะปััะธัั ัะฟะธัะพะบ ะทะฐะผะตัะพะบ |
| GET | `/api/notes/:id` | ะะพะปััะธัั ะทะฐะผะตัะบั ะฟะพ ID |
| POST | `/api/notes` | ะกะพะทะดะฐัั ะฝะพะฒัั ะทะฐะผะตัะบั |
| PATCH | `/api/notes/:id` | ะะฑะฝะพะฒะธัั ะทะฐะผะตัะบั |
| DELETE | `/api/notes/:id` | ะฃะดะฐะปะธัั ะทะฐะผะตัะบั |
| GET | `/api/notes/search?query=...` | ะะพะธัะบ ะทะฐะผะตัะพะบ |

### ะะพะปัะทะพะฒะฐัะตะปะธ

| ะะตัะพะด | ะััั | ะะฟะธัะฐะฝะธะต |
|-------|------|----------|
| POST | `/api/users/register` | ะะตะณะธัััะฐัะธั |
| POST | `/api/users/login` | ะัะพะด |
| GET | `/api/users/profile` | ะัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั |

### ะกัััะบัััะฐ ะทะฐะผะตัะบะธ
```json
{
  "id": 1,
  "title": "ะะฐะณะพะปะพะฒะพะบ ะทะฐะผะตัะบะธ",
  "content": "ะกะพะดะตัะถะธะผะพะต ะทะฐะผะตัะบะธ",
  "category": "ะะฐัะตะณะพัะธั",
  "createdAt": "2023-12-01T10:00:00.000Z",
  "updatedAt": "2023-12-01T10:00:00.000Z"
}
```

## ๐ ะััะธัะตะบัััะฐ

### Backend ะฐััะธัะตะบัััะฐ
```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   API Gateway   โ    โ  Notes Service  โ    โ  Users Service  โ
โ  (Moleculer)    โโโโโบโ   (Moleculer)   โ    โ   (Moleculer)   โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                    โโโโโโโโโโโโโโโโโโโ
                    โ   PostgreSQL    โ
                    โ   Database      โ
                    โโโโโโโโโโโโโโโโโโโ
```

### Frontend ะฐััะธัะตะบัััะฐ
```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Vue Router    โ    โ   Pinia Store   โ    โ   API Client    โ
โ   (Pages)       โโโโโบโ   (State)       โโโโโบโ   (Axios)       โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

## ๐ง ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

### Backend (.env)
```env
NODE_ENV=development
PORT=3000
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=notes_user
DB_PASSWORD=notes_password
DB_DATABASE=notes_db
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h
MOLECULER_TRANSPORTER=nats://localhost:4222
MOLECULER_LOG_LEVEL=info
```

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะะฐะฟััะบ ัะตััะพะฒ
```bash
# Backend ัะตััั
cd backend && npm test

# Frontend ัะตััั
cd frontend && npm test
```

## ๐ฆ ะกะฑะพัะบะฐ ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ

```bash
# ะกะฑะพัะบะฐ ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ
npm run build

# ะกะฑะพัะบะฐ ัะพะปัะบะพ backend
npm run build:backend

# ะกะฑะพัะบะฐ ัะพะปัะบะพ frontend
npm run build:frontend
```
